<div class="container">
  <form class="search">
    <input
      class="search__input"
      type="text"
      [formControl]="searchControl"
      [matAutocomplete]="auto"
    />
    <mat-autocomplete
      #auto="matAutocomplete"
      [displayWith]="displayFn"
      (optionSelected)="navigateByFoodId($event.option?.value.foodId)"
      (optionActivated)="setSearchOption($event.option?.value)"
    >
      <mat-option *ngFor="let option of searchOptions" [value]="option">
        {{ option.name }}
      </mat-option>
    </mat-autocomplete>
    <button
      mat-icon-button
      class="search__button"
      (click)="routeSearch(searchControl.value)"
    >
      <mat-icon>search</mat-icon>
    </button>
  </form>

  <ng-template #hits>
    <div class="result-grid">
      <ng-container *ngFor="let result of searchResults">
        <div class="result" routerLink="/food-list/{{ result.foodId }}">
          <img class="result__img" [src]="result.image" alt="" />
          <p class="result__name">{{ result.name }}</p>
        </div>
      </ng-container>
    </div>
  </ng-template>
  <ng-container *ngIf="nbHits === 0; else hits">
    <p>一致する検索結果はありませんでした</p>
  </ng-container>
</div>
